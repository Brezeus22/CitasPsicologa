<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel Psicóloga | Emoción Vital</title>
  <link rel="stylesheet" href="perfil.css">
  <link rel="stylesheet" href="psicologa.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
<header class="header-evital">
  <div class="logo-titulo">
    <img src="images/WhatsAppImage2025-05-18at6.16-Photoroom.png" alt="Logo Emoción Vital" class="logo-evital">
    <h1 class="verde">Panel Psicóloga</h1>
  </div>
  <div class="menu-logout">
    <nav class="menu">
      <button class="btn-menu" id="menu-toggle"><i class="fa-solid fa-bars"></i> Menú</button>
      <ul class="menu-desplegable" id="menu-list">
        <li><a href="psicologa.html" id="menu-inicio">Inicio</a></li>
        <li><a href="pendientes.html" id="menu-pendientes">Citas pendientes</a></li>
        <li><a href="historial-clinico.html" id="menu-historial">Historial clínico</a></li>
        <li><a href="reportes.html" id="menu-informe">Informe</a></li>
      </ul>
    </nav>
    <div class="user-dropdown" id="user-dropdown">
      <button class="user-icon-btn" id="user-icon-btn" title="Usuario">
        <i class="fa-solid fa-user"></i>
      </button>
      <ul class="user-dropdown-menu" id="user-dropdown-menu">
        <li><a href="#" id="editar-perfil">Editar perfil</a></li>
        <li><a href="logout.html" id="cerrar-sesion">Cerrar sesión</a></li>
      </ul>
    </div>
  </div>
</header>

<div class="principal-botones" id="principal-botones">
  <button class="boton-principal" id="btn-pendientes">
    <i class="fa-solid fa-calendar-check"></i>
    Citas pendientes
  </button>
  <button class="boton-principal" id="btn-historial">
    <i class="fa-solid fa-notes-medical"></i>
    Historial clínico
  </button>
  <button class="boton-principal" id="btn-informe">
    <i class="fa-solid fa-file-medical"></i>
    Informe
  </button>
</div>

  <!-- Nueva sección para editar perfil -->
  <section class="seccion" id="editar-perfil-seccion" style="display:none;">
    <h2>Editar Perfil</h2>
    <div style="display:flex;flex-direction:column;gap:18px;align-items:center;max-width:350px;margin:auto;">
      <div style="width:100%;display:flex;flex-direction:column;align-items:center;">
        <button class="btn-modal" id="btn-desplegar-usuario" type="button">Cambiar usuario o correo</button>
        <div id="desplegable-usuario" class="desplegable-perfil" style="display:none;width:100%;">
          <label for="tipo-cambio-usuario" style="margin-bottom:8px;display:block;">¿Qué desea cambiar?</label>
          <select id="tipo-cambio-usuario" style="width:100%;padding:8px;margin-bottom:10px;">
            <option value="">Seleccione</option>
            <option value="usuario">Usuario</option>
            <option value="correo">Correo</option>
          </select>
          <input type="text" id="nuevo-usuario" placeholder="Ingrese nuevo usuario" autocomplete="off" style="width:100%;padding:8px;display:none;">
          <input type="email" id="nuevo-correo" placeholder="Ingrese nuevo correo" autocomplete="off" style="width:100%;padding:8px;display:none;">
        </div>
      </div>
      <div style="width:100%;display:flex;flex-direction:column;align-items:center;">
        <button class="btn-modal" id="btn-desplegar-contrasena" type="button">Cambiar contraseña</button>
        <div id="desplegable-contrasena" class="desplegable-perfil" style="display:none;width:100%;">
          <input type="password" id="nueva-contrasena" placeholder="Ingrese su nueva contraseña" autocomplete="new-password" style="width:100%;padding:8px;margin-bottom:8px;">
          <input type="password" id="confirmar-contrasena" placeholder="Confirmar contraseña" autocomplete="new-password" style="width:100%;padding:8px;">
          <div id="mensaje-contrasena" style="color:#e74c3c;font-size:0.95em;margin-top:4px;display:none;"></div>
        </div>
      </div>
      <div style="width:100%;display:flex;flex-direction:column;align-items:center;">
        <button class="btn-modal" id="btn-desplegar-seguridad" type="button">Cambiar pregunta de seguridad</button>
        <div id="desplegable-seguridad" class="desplegable-perfil" style="display:none;width:100%;">
          <label>Pregunta de seguridad:
            <select id="pregunta-seguridad" style="width:100%;padding:8px;">
              <option value="">Seleccione una pregunta</option>
              <option value="color">¿Cuál es tu color favorito?</option>
              <option value="animal">¿Cuál es tu animal favorito?</option>
            </select>
          </label>
          <input type="text" id="respuesta-seguridad" placeholder="Respuesta" autocomplete="off" style="width:100%;padding:8px;margin-top:8px;">
        </div>
      </div>
    </div>
    <div style="display:flex;gap:12px;justify-content:center;margin-top:18px;">
      <button type="button" class="btn-modal" id="guardar-cambios-perfil">Guardar cambios</button>
      <button type="button" class="btn-modal btn-cancelar" id="cancelar-editar-perfil">Cancelar</button>
    </div>
  </section>

<section class="seccion" id="pendientes-seccion" style="display:none;">
  <h2>Citas pendientes</h2>
  <div class="tabla-citas-wrapper">
    <table class="tabla-citas" id="tabla-pendientes">
      <tr>
        <th>Fecha</th>
        <th>Hora</th>
        <th>Paciente</th>
        <th>Categoría</th>
        <th>Modalidad</th>
        <th>Pago</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
      <!-- Las filas se llenan dinámicamente con JS -->
    </table>
  </div>
</section>

<section class="seccion" id="historial-seccion" style="display:none;">
  <h2>Historial clínico</h2>
  <form id="form-historial">
    <label>Paciente:<br><input type="text" required></label><br>
    <label>Diagnóstico:<br><textarea required></textarea></label><br>
    <label>Tratamiento:<br><textarea required></textarea></label><br>
    <button type="submit" class="btn">Guardar</button>
  </form>
  <div id="mensaje-historial" style="display:none;"></div>
</section>

<section class="seccion" id="informe-seccion" style="display:none;">
  <h2>Informe</h2>
  <form id="form-informe">
    <label>Paciente:<br><input type="text" required></label><br>
    <label>Resumen del informe:<br><textarea required></textarea></label><br>
    <button type="submit" class="btn">Guardar</button>
  </form>
  <div id="mensaje-informe" style="display:none;"></div>
</section>

<!-- Modal para reprogramar cita -->
<div id="modal-reprogramar" class="modal-editar-perfil" style="display:none;">
  <div class="modal-content" style="max-width:400px;">
    <span class="close-modal" id="cerrar-modal-reprogramar" style="float:right;cursor:pointer;font-size:1.5em;">&times;</span>
    <h3>Reprogramar cita</h3>
    <form id="form-reprogramar">
      <label>Nueva fecha:
        <input type="date" id="nueva-fecha" required>
      </label><br>
      <label>Nueva hora:
        <select id="nueva-hora" required>
          <option value="">Seleccione</option>
        </select>
      </label><br>
      <label>Nota:
        <textarea id="nota-reprogramar" rows="2"></textarea>
      </label><br>
      <div style="display:flex;gap:12px;justify-content:center;margin-top:12px;">
        <button type="submit" class="btn-modal">Guardar</button>
        <button type="button" class="btn-modal btn-cancelar" id="cancelar-reprogramar">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<!-- Modal para historial clínico -->
<div id="modal-historial-clinico" class="modal-editar-perfil" style="display:none;">
  <div class="modal-content" style="max-width:600px;max-height:80vh;overflow:auto;">
    <span class="close-modal" id="cerrar-modal-historial" style="float:right;cursor:pointer;font-size:1.5em;">&times;</span>
    <h3>Historial clínico del paciente</h3>
    <div id="historial-clinico-datos"></div>
  </div>
</div>

  
<script src="psicologa.js"></script>
</body>
</html>
